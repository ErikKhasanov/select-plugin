new class{constructor(e,t){this.el=document.querySelector(e),this.options=t,this.selectedId=null,this.#e(),this.#t()}#e(){const{placeholder:e,data:t,selectedId:s}=this.options;this.el.innerHTML=((e,t,s)=>{let l=e;const i=t.map((e=>{let t="";return+s==+e.id&&(l=e.value,t="select__item__selected"),`<li class="select__item ${t}" data-type="item" data-value=${e.id}>${e.value}</li>`}));return`\n         <div id="select" class="select">\n              <div class="select__input" data-type="input">\n                  ${l}\n              </div>\n              <div class="select__dropdown">\n                   <ul class="select__list">\n                      ${i.join("")}\n                   </ul>\n              </div>\n              <div class="select__backdrop" data-type="backdrop"></div>\n         </div>\n        `})(e,t,s)}#t(){this.clickHandler=this.clickHandler.bind(this),this.el.addEventListener("click",this.clickHandler),this.placehodler=document.querySelector('[data-type="input"]'),this.items=document.querySelectorAll('[data-type="item"]')}clickHandler(e){const{type:t}=e.target.dataset;"input"===t?this.toggle():"item"===t?(this.items.forEach((e=>e.classList.remove("select__item__selected"))),e.target.classList.add("select__item__selected"),this.select(e.target.dataset.value)):"backdrop"===t&&this.close()}select(e){this.selectedId=e,this.placehodler.textContent=this.current.value,this.options.onSelect&&this.options.onSelect(this.current),this.close()}toggle(){this.isOpen?this.close():this.open()}get current(){return this.options.data.find((e=>+e.id==+this.selectedId))}get isOpen(){return this.el.classList.contains("select__open")}open(){this.el.classList.add("select__open")}close(){this.el.classList.remove("select__open")}destroy(){this.el.removeEventListener("click",this.clickHandler),this.el.innerHTML=""}}("#select",{placeholder:"Выбери из списка",data:[{id:1,value:"React"},{id:2,value:"React Native"},{id:3,value:"Angular"},{id:4,value:"Vue"},{id:5,value:"Svelte"}],onSelect(e){console.log(e)}});
//# sourceMappingURL=select-plugin.js.map
